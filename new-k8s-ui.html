<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kubernetes Solutions Toolkit</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .toolkit-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .tool-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }

        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 45px rgba(0,0,0,0.2);
        }

        .tool-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .tool-icon {
            width: 40px;
            height: 40px;
            margin-right: 15px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .tool-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2c3e50;
        }

        .tool-description {
            margin-bottom: 20px;
            color: #666;
            line-height: 1.5;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #555;
        }

        .input-group input, .input-group select, .input-group textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .input-group input:focus, .input-group select:focus, .input-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            width: 100%;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .output-area {
            margin-top: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
            display: none;
        }

        .output-area.show {
            display: block;
        }

        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-healthy { background-color: #27ae60; }
        .status-warning { background-color: #f39c12; }
        .status-error { background-color: #e74c3c; }

        .quick-actions {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        .quick-actions h3 {
            margin-bottom: 20px;
            color: #2c3e50;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .action-btn {
            background: linear-gradient(45deg, #2c3e50, #34495e);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(44, 62, 80, 0.3);
        }

        .yaml-editor {
            width: 100%;
            height: 200px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 10px;
            background: #f8f9fa;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ Kubernetes Solutions Toolkit</h1>
            <p>Comprehensive tool to diagnose and solve Kubernetes limitations</p>
        </div>

        <div class="toolkit-grid">
            <!-- Resource Analyzer -->
            <div class="tool-card">
                <div class="tool-header">
                    <div class="tool-icon">üìä</div>
                    <div class="tool-title">Resource Analyzer</div>
                </div>
                <div class="tool-description">
                    Analyze resource utilization and identify bottlenecks in your cluster.
                </div>
                <div class="input-group">
                    <label>Namespace</label>
                    <input type="text" id="analyzeNamespace" placeholder="default">
                </div>
                <div class="input-group">
                    <label>Resource Type</label>
                    <select id="resourceType">
                        <option value="pods">Pods</option>
                        <option value="services">Services</option>
                        <option value="deployments">Deployments</option>
                        <option value="nodes">Nodes</option>
                    </select>
                </div>
                <button class="btn" onclick="analyzeResources()">Analyze Resources</button>
                <div class="output-area" id="resourceOutput"></div>
            </div>

            <!-- Pod Troubleshooter -->
            <div class="tool-card">
                <div class="tool-header">
                    <div class="tool-icon">üîß</div>
                    <div class="tool-title">Pod Troubleshooter</div>
                </div>
                <div class="tool-description">
                    Diagnose common pod issues and get solutions.
                </div>
                <div class="input-group">
                    <label>Pod Name</label>
                    <input type="text" id="podName" placeholder="my-pod">
                </div>
                <div class="input-group">
                    <label>Namespace</label>
                    <input type="text" id="podNamespace" placeholder="default">
                </div>
                <div class="input-group">
                    <label>Issue Type</label>
                    <select id="issueType">
                        <option value="crashloop">CrashLoopBackOff</option>
                        <option value="imagepull">ImagePullBackOff</option>
                        <option value="pending">Pod Pending</option>
                        <option value="oom">Out of Memory</option>
                        <option value="network">Network Issues</option>
                    </select>
                </div>
                <button class="btn" onclick="troubleshootPod()">Troubleshoot</button>
                <div class="output-area" id="troubleshootOutput"></div>
            </div>

            <!-- YAML Validator -->
            <div class="tool-card">
                <div class="tool-header">
                    <div class="tool-icon">‚úÖ</div>
                    <div class="tool-title">YAML Validator</div>
                </div>
                <div class="tool-description">
                    Validate and optimize your Kubernetes YAML manifests.
                </div>
                <div class="input-group">
                    <label>YAML Manifest</label>
                    <textarea class="yaml-editor" id="yamlInput" placeholder="Paste your YAML here..."></textarea>
                </div>
                <button class="btn" onclick="validateYAML()">Validate YAML</button>
                <div class="output-area" id="validationOutput"></div>
            </div>

            <!-- Network Debugger -->
            <div class="tool-card">
                <div class="tool-header">
                    <div class="tool-icon">üåê</div>
                    <div class="tool-title">Network Debugger</div>
                </div>
                <div class="tool-description">
                    Debug networking issues and connectivity problems.
                </div>
                <div class="input-group">
                    <label>Source Pod</label>
                    <input type="text" id="sourcePod" placeholder="source-pod">
                </div>
                <div class="input-group">
                    <label>Target Service/Pod</label>
                    <input type="text" id="targetService" placeholder="target-service">
                </div>
                <div class="input-group">
                    <label>Port</label>
                    <input type="number" id="targetPort" placeholder="80">
                </div>
                <button class="btn" onclick="debugNetwork()">Debug Network</button>
                <div class="output-area" id="networkOutput"></div>
            </div>

            <!-- Security Scanner -->
            <div class="tool-card">
                <div class="tool-header">
                    <div class="tool-icon">üîí</div>
                    <div class="tool-title">Security Scanner</div>
                </div>
                <div class="tool-description">
                    Scan for security vulnerabilities and misconfigurations.
                </div>
                <div class="input-group">
                    <label>Scan Type</label>
                    <select id="scanType">
                        <option value="rbac">RBAC Analysis</option>
                        <option value="secrets">Secrets Audit</option>
                        <option value="policies">Security Policies</option>
                        <option value="images">Image Vulnerabilities</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>Target Namespace</label>
                    <input type="text" id="securityNamespace" placeholder="default">
                </div>
                <button class="btn" onclick="runSecurityScan()">Run Security Scan</button>
                <div class="output-area" id="securityOutput"></div>
            </div>

            <!-- Performance Optimizer -->
            <div class="tool-card">
                <div class="tool-header">
                    <div class="tool-icon">‚ö°</div>
                    <div class="tool-title">Performance Optimizer</div>
                </div>
                <div class="tool-description">
                    Optimize cluster performance and resource allocation.
                </div>
                <div class="input-group">
                    <label>Optimization Target</label>
                    <select id="optimizationTarget">
                        <option value="cpu">CPU Usage</option>
                        <option value="memory">Memory Usage</option>
                        <option value="storage">Storage I/O</option>
                        <option value="network">Network Throughput</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>Workload Type</label>
                    <select id="workloadType">
                        <option value="web">Web Application</option>
                        <option value="batch">Batch Processing</option>
                        <option value="database">Database</option>
                        <option value="microservice">Microservice</option>
                    </select>
                </div>
                <button class="btn" onclick="optimizePerformance()">Optimize</button>
                <div class="output-area" id="optimizationOutput"></div>
            </div>
        </div>

        <div class="quick-actions">
            <h3>üöÄ Quick Actions</h3>
            <div class="action-buttons">
                <button class="action-btn" onclick="generateKubectlCommands()">Generate kubectl Commands</button>
                <button class="action-btn" onclick="createBackupScript()">Create Backup Script</button>
                <button class="action-btn" onclick="setupMonitoring()">Setup Monitoring</button>
                <button class="action-btn" onclick="generateHelmChart()">Generate Helm Chart</button>
                <button class="action-btn" onclick="createCIDragon()">CI/CD Pipeline</button>
                <button class="action-btn" onclick="disasterRecovery()">Disaster Recovery</button>
            </div>
        </div>
    </div>

    <script>
        // Simulate kubectl and Kubernetes API responses
        const mockData = {
            pods: [
                { name: 'web-app-1', status: 'Running', cpu: '250m', memory: '512Mi', restarts: 0 },
                { name: 'web-app-2', status: 'Running', cpu: '300m', memory: '600Mi', restarts: 1 },
                { name: 'database-1', status: 'Running', cpu: '500m', memory: '1Gi', restarts: 0 }
            ],
            services: [
                { name: 'web-service', type: 'ClusterIP', clusterIP: '10.96.1.100', ports: '80/TCP' },
                { name: 'database-service', type: 'ClusterIP', clusterIP: '10.96.1.101', ports: '3306/TCP' }
            ],
            nodes: [
                { name: 'node-1', status: 'Ready', cpu: '45%', memory: '60%', pods: '12/110' },
                { name: 'node-2', status: 'Ready', cpu: '35%', memory: '55%', pods: '8/110' }
            ]
        };

        function analyzeResources() {
            const namespace = document.getElementById('analyzeNamespace').value || 'default';
            const resourceType = document.getElementById('resourceType').value;
            const output = document.getElementById('resourceOutput');
            
            let result = `üìä Resource Analysis for ${resourceType} in namespace: ${namespace}\n\n`;
            
            if (mockData[resourceType]) {
                mockData[resourceType].forEach((resource, index) => {
                    result += `${index + 1}. ${resource.name}\n`;
                    Object.keys(resource).forEach(key => {
                        if (key !== 'name') {
                            result += `   ${key}: ${resource[key]}\n`;
                        }
                    });
                    result += '\n';
                });
            }
            
            result += `\nüí° Recommendations:\n`;
            result += `‚Ä¢ Consider right-sizing resources based on actual usage\n`;
            result += `‚Ä¢ Implement resource quotas and limits\n`;
            result += `‚Ä¢ Set up horizontal pod autoscaling for dynamic workloads\n`;
            
            output.textContent = result;
            output.classList.add('show');
        }

        function troubleshootPod() {
            const podName = document.getElementById('podName').value || 'my-pod';
            const namespace = document.getElementById('podNamespace').value || 'default';
            const issueType = document.getElementById('issueType').value;
            const output = document.getElementById('troubleshootOutput');
            
            const solutions = {
                crashloop: {
                    diagnosis: 'Pod is crashing and restarting repeatedly',
                    commands: [
                        `kubectl logs ${podName} -n ${namespace} --previous`,
                        `kubectl describe pod ${podName} -n ${namespace}`,
                        `kubectl get events -n ${namespace} --sort-by='.lastTimestamp'`
                    ],
                    solutions: [
                        'Check application logs for errors',
                        'Verify resource limits and requests',
                        'Ensure proper health checks configuration',
                        'Check for missing dependencies or configuration'
                    ]
                },
                imagepull: {
                    diagnosis: 'Unable to pull container image',
                    commands: [
                        `kubectl describe pod ${podName} -n ${namespace}`,
                        `kubectl get secrets -n ${namespace}`,
                        `kubectl get pods ${podName} -n ${namespace} -o yaml`
                    ],
                    solutions: [
                        'Verify image name and tag are correct',
                        'Check image registry credentials',
                        'Ensure image exists in the registry',
                        'Verify network connectivity to registry'
                    ]
                },
                pending: {
                    diagnosis: 'Pod is stuck in Pending state',
                    commands: [
                        `kubectl describe pod ${podName} -n ${namespace}`,
                        `kubectl get nodes`,
                        `kubectl top nodes`
                    ],
                    solutions: [
                        'Check node resource availability',
                        'Verify node selectors and affinity rules',
                        'Check for taints and tolerations',
                        'Ensure persistent volume claims are bound'
                    ]
                }
            };
            
            const issue = solutions[issueType] || solutions.crashloop;
            
            let result = `üîß Troubleshooting: ${podName} in ${namespace}\n`;
            result += `Issue: ${issue.diagnosis}\n\n`;
            result += `üîç Diagnostic Commands:\n`;
            issue.commands.forEach(cmd => result += `$ ${cmd}\n`);
            result += `\nüí° Possible Solutions:\n`;
            issue.solutions.forEach(solution => result += `‚Ä¢ ${solution}\n`);
            
            output.textContent = result;
            output.classList.add('show');
        }

        function validateYAML() {
            const yamlInput = document.getElementById('yamlInput').value;
            const output = document.getElementById('validationOutput');
            
            if (!yamlInput.trim()) {
                output.textContent = '‚ùå Please provide YAML content to validate';
                output.classList.add('show');
                return;
            }
            
            let result = '‚úÖ YAML Validation Results\n\n';
            
            // Basic validation checks
            const checks = [
                { name: 'YAML Syntax', status: 'PASS', message: 'Valid YAML structure' },
                { name: 'apiVersion', status: yamlInput.includes('apiVersion') ? 'PASS' : 'FAIL' },
                { name: 'kind', status: yamlInput.includes('kind') ? 'PASS' : 'FAIL' },
                { name: 'metadata', status: yamlInput.includes('metadata') ? 'PASS' : 'FAIL' },
                { name: 'Resource Limits', status: yamlInput.includes('limits') ? 'PASS' : 'WARN' },
                { name: 'Security Context', status: yamlInput.includes('securityContext') ? 'PASS' : 'WARN' }
            ];
            
            checks.forEach(check => {
                const status = check.status === 'PASS' ? '‚úÖ' : check.status === 'WARN' ? '‚ö†Ô∏è' : '‚ùå';
                result += `${status} ${check.name}: ${check.status}\n`;
                if (check.message) result += `   ${check.message}\n`;
            });
            
            result += '\nüí° Optimization Suggestions:\n';
            result += '‚Ä¢ Add resource requests and limits\n';
            result += '‚Ä¢ Configure security contexts\n';
            result += '‚Ä¢ Add health check probes\n';
            result += '‚Ä¢ Use specific image tags instead of "latest"\n';
            
            output.textContent = result;
            output.classList.add('show');
        }

        function debugNetwork() {
            const sourcePod = document.getElementById('sourcePod').value || 'source-pod';
            const targetService = document.getElementById('targetService').value || 'target-service';
            const port = document.getElementById('targetPort').value || '80';
            const output = document.getElementById('networkOutput');
            
            let result = `üåê Network Debugging: ${sourcePod} ‚Üí ${targetService}:${port}\n\n`;
            result += `üîç Diagnostic Steps:\n\n`;
            
            const debugSteps = [
                `1. Test DNS Resolution:`,
                `   kubectl exec ${sourcePod} -- nslookup ${targetService}`,
                ``,
                `2. Test Connectivity:`,
                `   kubectl exec ${sourcePod} -- wget -qO- --timeout=5 ${targetService}:${port}`,
                ``,
                `3. Check Service Endpoints:`,
                `   kubectl get endpoints ${targetService}`,
                ``,
                `4. Verify Network Policies:`,
                `   kubectl get networkpolicies`,
                ``,
                `5. Check Service Configuration:`,
                `   kubectl describe service ${targetService}`
            ];
            
            result += debugSteps.join('\n') + '\n\n';
            
            result += `üõ†Ô∏è Common Solutions:\n`;
            result += `‚Ä¢ Verify service selector matches pod labels\n`;
            result += `‚Ä¢ Check if target pods are running and ready\n`;
            result += `‚Ä¢ Review network policies for blocking rules\n`;
            result += `‚Ä¢ Ensure correct port configuration\n`;
            result += `‚Ä¢ Verify DNS configuration in cluster\n`;
            
            output.textContent = result;
            output.classList.add('show');
        }

        function runSecurityScan() {
            const scanType = document.getElementById('scanType').value;
            const namespace = document.getElementById('securityNamespace').value || 'default';
            const output = document.getElementById('securityOutput');
            
            const scans = {
                rbac: {
                    title: 'RBAC Analysis',
                    findings: [
                        '‚ö†Ô∏è ServiceAccount with cluster-admin privileges found',
                        '‚úÖ Most pods use specific service accounts',
                        '‚ö†Ô∏è Some roles have wildcard permissions',
                        '‚úÖ No anonymous access detected'
                    ]
                },
                secrets: {
                    title: 'Secrets Audit',
                    findings: [
                        '‚úÖ All secrets are properly encrypted at rest',
                        '‚ö†Ô∏è Some secrets are mounted as environment variables',
                        '‚úÖ No hardcoded secrets in manifests',
                        '‚ö†Ô∏è Missing secret rotation policy'
                    ]
                },
                policies: {
                    title: 'Security Policies',
                    findings: [
                        '‚ùå Pod Security Standards not enforced',
                        '‚ö†Ô∏è Some containers run as root',
                        '‚úÖ Network policies are configured',
                        '‚ö†Ô∏è Missing admission controllers'
                    ]
                }
            };
            
            const scan = scans[scanType] || scans.rbac;
            
            let result = `üîí Security Scan: ${scan.title} in ${namespace}\n\n`;
            result += `üìã Findings:\n`;
            scan.findings.forEach(finding => result += `${finding}\n`);
            
            result += `\nüõ°Ô∏è Recommendations:\n`;
            result += `‚Ä¢ Implement least privilege principle\n`;
            result += `‚Ä¢ Enable Pod Security Standards\n`;
            result += `‚Ä¢ Regular security policy reviews\n`;
            result += `‚Ä¢ Implement secret rotation\n`;
            result += `‚Ä¢ Use security scanning tools\n`;
            
            output.textContent = result;
            output.classList.add('show');
        }

        function optimizePerformance() {
            const target = document.getElementById('optimizationTarget').value;
            const workload = document.getElementById('workloadType').value;
            const output = document.getElementById('optimizationOutput');
            
            let result = `‚ö° Performance Optimization for ${workload} (${target})\n\n`;
            
            const optimizations = {
                cpu: [
                    'Set appropriate CPU requests and limits',
                    'Use Horizontal Pod Autoscaler (HPA)',
                    'Optimize application CPU usage',
                    'Consider CPU affinity for performance-critical workloads'
                ],
                memory: [
                    'Configure memory requests and limits',
                    'Implement memory-based autoscaling',
                    'Optimize garbage collection settings',
                    'Monitor for memory leaks'
                ],
                storage: [
                    'Use SSD-backed storage classes',
                    'Implement storage quotas',
                    'Optimize database queries',
                    'Consider local persistent volumes'
                ]
            };
            
            result += `üéØ Optimization Strategies:\n`;
            (optimizations[target] || optimizations.cpu).forEach(opt => {
                result += `‚Ä¢ ${opt}\n`;
            });
            
            result += `\nüìä Monitoring Commands:\n`;
            result += `kubectl top pods\n`;
            result += `kubectl top nodes\n`;
            result += `kubectl get hpa\n`;
            
            result += `\n‚öôÔ∏è Sample HPA Configuration:\n`;
            result += `apiVersion: autoscaling/v2\n`;
            result += `kind: HorizontalPodAutoscaler\n`;
            result += `metadata:\n`;
            result += `  name: ${workload}-hpa\n`;
            result += `spec:\n`;
            result += `  scaleTargetRef:\n`;
            result += `    apiVersion: apps/v1\n`;
            result += `    kind: Deployment\n`;
            result += `    name: ${workload}\n`;
            result += `  minReplicas: 2\n`;
            result += `  maxReplicas: 10\n`;
            result += `  metrics:\n`;
            result += `  - type: Resource\n`;
            result += `    resource:\n`;
            result += `      name: cpu\n`;
            result += `      target:\n`;
            result += `        type: Utilization\n`;
            result += `        averageUtilization: 70\n`;
            
            output.textContent = result;
            output.classList.add('show');
        }

        // Quick Action Functions
        function generateKubectlCommands() {
            alert('üöÄ Generating common kubectl commands cheat sheet...\n\nFeature coming soon!');
        }

        function createBackupScript() {
            alert('üíæ Creating automated backup scripts for your cluster...\n\nFeature coming soon!');
        }

        function setupMonitoring() {
            alert('üìä Setting up Prometheus and Grafana monitoring...\n\nFeature coming soon!');
        }

        function generateHelmChart() {
            alert('üì¶ Generating Helm chart templates...\n\nFeature coming soon!');
        }

        function createCIDragon() {
            alert('üîÑ Creating CI/CD pipeline configurations...\n\nFeature coming soon!');
        }

        function disasterRecovery() {
            alert('üÜò Setting up disaster recovery procedures...\n\nFeature coming soon!');
        }
    </script>
</body>
</html>
